<!DOCTYPE html>


<html lang="zh-CN">


<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    linux常用命令 |  自在技术博客
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/dist/main.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">
  <link rel="stylesheet" href="/css/custom.css">
  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

</head>

</html>

<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article id="post-常用命令" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  linux常用命令
</h1>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/06/09/常用命令/" class="article-date">
  <time datetime="2019-06-09T10:27:43.000Z" itemprop="datePublished">2019-06-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux基础/">linux基础</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">5.6k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">22 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="命令大全"><a href="#命令大全" class="headerlink" title="命令大全"></a>命令大全</h1><ol>
<li>ls 显示目录文件 <pre><code>选项：
-d 显示当前目录
-i    显示inode号
-h    常见单位显示
-a    显示所有文件包括隐藏文件</code></pre></li>
<li>cd 切换目录（shell内置命令）<pre><code>cd - 进入上一次目录
cd ~ 进入家目录
cd .. 进入上级目录</code></pre></li>
<li>pwd 显示当前路径</li>
<li>mkdir    建立目录<pre><code>例：mkdir -p /huang/xiao/qi 递归建立</code></pre></li>
<li>rm 删除文件    <pre><code>选项：-r递归，删除目录 
-f强制
例：rm -rf 文件和目录</code></pre></li>
<li>tree 显示目录下所有目录树（要安装的命令）</li>
<li>touch 创建新文件或修改文件时间</li>
<li>cat 查看文件内容 <pre><code>选项：-n显示行号
例：cat -n 文件名</code></pre></li>
<li>more 分页显示文件内容<pre><code>空格键：下翻        n键：上翻        q键：退出</code></pre></li>
<li>less 分行显示文件内容<pre><code>空格键或pgdn：下翻    pgup键：上翻 q键：退出</code></pre></li>
<li>head 显示文件头，默认10行<pre><code>选项：-n 指定显示文件头几行</code></pre></li>
<li>tail 显示文件后几行，默认10行<pre><code>选项：-n 指定显示文件头几行
-f    监听文件尾部</code></pre></li>
<li>cp 复制文件（如果复制链接文件，则复制原文件）<pre><code>选项：-r 复制目录（包括目录内文件数据）
-p 连带文件属性复制
-d 若源文件是链接文件，则复制链接属性
-a 相当于-rpd
例：cp -pdr 源文件位置 目的位置</code></pre></li>
<li>mv 剪切或改名<pre><code>例：mv 源文件 目的文件位置</code></pre></li>
<li>type 区分命令类型<pre><code>例：type 命令</code></pre></li>
<li>ln 生成链接文件（硬链接）<pre><code>选项：-s 生成软链接
例：ln -s 源文件 目的文件</code></pre></li>
<li>chmod 修改权限<pre><code>例：chmod 775 文件或目录
选项：-R    递归设置，将设置到该目录上的权限递归设置到该目录下的所有子文件上</code></pre></li>
<li>chown 修改所有者<pre><code>例：chown 用户:用户组 文件或目录名 （同时修改所有者和所属组）
选项：-R    递归设置，将设置到该目录上的所有者递归设置到该目录下的所有子文件上</code></pre></li>
<li>chgrp 修改所属组<pre><code>例：chgrp 所属组 文件名或目录</code></pre></li>
<li>umask 查看文件和目录默认权限</li>
<li>man 查看命令帮助<pre><code>例： man -f 命令
选项：-f 查看命令等级</code></pre>0-9 命令等级</li>
<li>help 查看内部命令帮助<pre><code>例：help 内部命令</code></pre></li>
<li>–help 查看常用命令选项帮助<pre><code>例：命令 --help
命令 --version 查看命令作者</code></pre></li>
<li>info查看帮助页<pre><code>例：info 命令
选项：n进入下一小节
p进入上一小节
q退出
enter确认</code></pre></li>
<li>which查找存储命令路径与alias别名<pre><code>例：which 命令</code></pre></li>
<li>whereis查找存储命令路径与man帮助存储位置<pre><code>例：whereis 命令</code></pre></li>
<li>whatis 查询命令帮助等级<pre><code>例：whereis 命令</code></pre></li>
<li>locate按文件名查找系统中的文件（包含匹配，在系统数据库中查找）<pre><code>例：locate 文件名
配置文件：/etc/updatedb.conf
配合命令：updatedb强制更新数据库/var/lib/mlocate/mlocatedb位置</code></pre></li>
<li>find 查询符合条件的文件名（完全匹配，可用通配符）<pre><code>例：find 查找位置 选项 文件名
选项：-name 按文件名查找
-iname 不区分大小写
-size    按文件大小查找
-type    按文件类型查找（f：文件d：目录l：链接）
-ctime    按权限修改时间查找，如+4，-4，4天
-mtime按数据修改时间查找
-atime    按访问时间查找
-nouser按没有属主的文件查找
-user    按用户名查找
-group 按用户组查找
-uid    按用户ID查找
-gid    按属组组ID查找
-inum    按i节点查找
-perm    按权限查找，如775
-exec  {}  \；管道符作用</code></pre></li>
<li>grep 查找符合条件的字符串，文件中查找数据，包含匹配<pre><code>例：grep “字符串” 文件名
选项：-i 不区分大小写
-v 反向
-c 统计符合条件的行数
-A 数字  #列出符合条件的行，并连续列出后面n行
-B 数字  #列出符合条件的行，并连续列出前面n行
--colour=auto 查找字符显示红色</code></pre></li>
<li>“|” 管道符，命令1的结果作为命令2的条件<pre><code>例：ls -l | grep “^-”</code></pre></li>
<li>netstat 查看系统网络状态<pre><code>例：netstat -tuln
选项：-t    显示tcp
-u    显示udp
-l    监听
-n    显示IP和端口</code></pre></li>
<li>tar 打包压缩命令<pre><code>例：tar -zcvf 压缩文件名 源文件
选项：-z：gz格式    -j：bz2格式    
-c：解压        -x：压缩
-t：显示压缩文件不解压
-C：解压到指定位置
tar -zxvf 123.tar.gz 123/aaa -C /root/ 解压其中一个文件</code></pre></li>
<li>w 查看当前在线用户（显示用户登入时间，在线持续时间，1,5,15分钟前的cpu负载，来源IP） </li>
<li>who查看当前在线用户（在线持续时间，来源IP）</li>
<li>last 列出登入相关信息（显示用户开始登入时间，退出登入时间，在线时间，系统重启时间）<pre><code>文件位置：/var/run/wtmp</code></pre></li>
<li>lastlog显示账户最后一次登入时间<pre><code>文件位置：/var/run/utmp</code></pre></li>
<li>write 给在线用户写信息</li>
<li>wall对所有在线用户说话</li>
<li>mail邮件命令<pre><code>例：mail 用户名 （写信ctrl+d:保存退出）
选项：1    2  查看对于邮件 h列出邮件标题  q退出
邮件保存位置：/var/spool/mail/root</code></pre></li>
<li>ping网络探测<pre><code>选项：-c    指定次数
-s    指定数据包大小</code></pre></li>
<li>ifconfig查看网卡配置<pre><code>例：ifconfig etho0 配置临时生效网卡</code></pre></li>
<li>netstat查看网络状态<pre><code>例：netstat -tuln
选项：-t tcp    
-u udp        
-l listen        
-n 显示IP和端口
配置文件：/etc/services</code></pre></li>
<li>telnet 测试端口连通性<pre><code>例：telnet  IP 端口</code></pre></li>
<li>sync数据同步，强制把内存数据保存到硬盘</li>
<li>shutdown关机重启命令<pre><code>例：shutdown -r now重启（可以指定时间，建议使用）
shutdown -h now关机</code></pre></li>
<li>mount挂载命令（直接执行可以查看已经挂载的挂载点）<pre><code>例：mount [-t iso9660] /dev/sr0 挂载点
选项：-t 文件系统 光盘iso9660   U盘fat:16或vfat：32
-L 卷标名 挂载指定卷标的分区
-o 特殊选项 可以指定挂载的额外选项
常用挂载
挂载光盘
例：mount 【-t iso9660】 /dev/sr0 /mnt/cdrom
卸载挂载
例：umount /mnt/cdrom
指定字符编码挂载
例：mount -o iocharset=utf8 /dev/sr0 /mnt/cdrom/
挂载特殊指定项
mount  -o  remount,exec  挂载点（remount针对已挂载）
挂载本地镜像
mount  -o  loop  镜像文件  挂载点
查看分硬盘区
例：fdisk -l
显示当前系统字符编码
例：echo $LANG
修改字符编码
例：    $LANG=zh_CN.UTF-8
$LANG=en_US.UTF-8
强制把内存数据保存到硬盘中（建议重启前使用）
例：sync 
重启命令（建议使用）
例：shutdown -r now 或指定时间 05:30</code></pre></li>
<li>umount 卸载挂载点<pre><code>例：umount 挂载点或设备文件名</code></pre></li>
<li>rpm二进制包安装命令<pre><code>例：rpm -ivh 包全名
选项：-i：安装
-v：显示更详细信息
-h：显示安装进度
-q：查询包是否安装
-a：查询所有安装包
-qi：查询安装包的信息
-qip：查询未安装包的信息
-ql：查询包中，文件的安装位置
-qf：查询系统文件属于哪个安装包
-qR：查询软件包所依赖的软件包
-qRp：查询没有安装的软件包的依赖包
-e：卸载
-V：检验安装包有没有修改过
-U：升级安装包，如果没有安装，就安装
-F：升级安装包，如果没有安装，就不安装
--force：强制安装，用于文件丢失
--import：用于导入数字证书，安装包在</code></pre></li>
<li>date修改时间命令<pre><code>例：date -s 20180613或15:12:11
选项：-s：指定时间</code></pre></li>
<li>lrzsz安装包，用于xshell上传或下载文件的<pre><code>例：先安装lrzsz安装包，
选项：rz：下载
sz：上传</code></pre></li>
<li>dos2unix和Unix2dos安装包，需要安装，用于Windows和Linux系统之间的文件转换<pre><code>例：dos2unix 文件名 或 unix2dos 文件名</code></pre></li>
<li>yum在线安装<pre><code>例：yum -y install 包名
选项：install安装
remove卸载
update升级（如果不指定包名，就全部软件升级，小心使用）
list查看yum源所有可以安装的rpm包，可以指定包名
search查看yum源中所有与关键字相关的包
info查看包的信息
grouplist查看所有软件组
groupinstall安装指定组包
groupinfo查看组包中的软件
groupremove卸载组包</code></pre></li>
<li>LANG查看系统当前语言<pre><code>例：LANG=zh_CN.UTF-8
选项：echo $LANG 查看当前使用语言</code></pre></li>
<li>uname -r    查看系统内核版本</li>
<li>du 统计目录大小（统计文件大小是准确的）<pre><code>例：du -sh 目录
选项：-h 人性化显示
-s 和
-a    显示每个子文件磁盘占用量</code></pre></li>
<li>df 查看分区大小（查看硬盘剩余空间是准确的）<pre><code>例：df -h
选项：-h 人性化显示
-a    显示所有文件系统
-T    显示挂着的文件系统类型</code></pre></li>
<li>diff 生成补丁<pre><code>例：diff  -Naur 旧文件 新文件  &gt; 补丁文件</code></pre></li>
<li>patch导入补丁命令<pre><code>例：patch -pn &lt; 补丁名  （-n：数字  -p：取消路径等级）</code></pre></li>
<li>防火墙关闭<pre><code>例：iptables  -F    （临时生效，清空防火墙配置）
service  iptables  stop（永久生效，停止防火墙服务）
chkconfig  iptables  off（永久生效，防火墙服务开机不启动）</code></pre></li>
<li>useradd添加用户<pre><code>例：useradd  选项  参数  用户名
选项：    -u：UID
-g：指定初始组
-d：指定家目录，目录不需要事先创建
-s：指定登录shell
-G：指定附加组
-r：创建系统用户，默认密码失效，没有家目录，与-s一起使用，指定shell为/sbin/nologin</code></pre></li>
<li>passwd修改密码<pre><code>例：passwd  选项  用户
选项：    -l：锁定用户密码
-u：解锁用户密码
-U：查看密码状态</code></pre></li>
<li>usermod用户信息修改<pre><code>例：usermod  选项  用户名
usermod -m -d /home/已更改名  用户名
选项：    -u：修改UID
-g：修改初始组
-d：修改家目录与-m一起使用
-L：锁定密码
-U：解锁密码
-G：修改附加组
-l 新用户名 旧用户名   修改用户名
-s：修改登录的shell</code></pre></li>
<li>userdel删除用户<pre><code>例：userdel 选项 用户名
选项：-r：连家目录一起删除</code></pre></li>
<li>groupadd增加组<pre><code>例：groupadd 组名</code></pre></li>
<li>groupdel删除组<pre><code>例：groupdel 组名（尽量空组）</code></pre></li>
<li>gpasswd向组内添加成员<pre><code>例：gpasswd 选项 用户名 组名
选项：-a：指定一个用户添加到组
-d：删除组内成员
-M：批量添加组成员</code></pre></li>
<li>echo  $?（上次命令是否执行成功，0表示成功，非0表示错误）     </li>
<li>id显示用户的UID，初始组，附加组<pre><code>例：id 用户名</code></pre></li>
<li>su切换用户<pre><code>例：su 用户名
例：su - 用户名 连带环境变量一起切换</code></pre></li>
<li>newgrp切换有效组<pre><code>例：newgrp    组</code></pre></li>
<li>dumpe2fs查看ACL权限<pre><code>例：dumpe2fs  分区  |  grep  acl</code></pre></li>
<li>setfacl设置ACL权限<pre><code>例：setfacl -m u:用户名:权限 文件名（添加ACL权限rwx）
setfacl -x u:用户 文件名（删除ACL权限）
setfacl -b 文件名（清空ACL权限，包括mask）
setfacl -m u:权限（设置mask权限）
setfacl -R -m u:用户名:权限 文件名（递归设置）
setfacl -d -m u:用户名:权限 文件名（默认权限设置）</code></pre></li>
<li>getfacl查看文件权限<pre><code>例：getfacl  文件名或目录</code></pre></li>
<li>chattr 文件属性设置<pre><code>例：chattr +i 文件或目录
选项：i：对文件，不允许任何操作修改
对目录，那么只能修改目录下文件的数据 
a：对文件，那么只能在文件中增加数据
对目录，那么只允许在目录中建立和修改文件
e：表示该文件是使用ext文件系统进行存储的，而且不能使用“chattr -e”命令取消e属性</code></pre></li>
<li>lsattr 查看文件属性<pre><code>例：lsattr    -a    文件名
选项：-a 显示所有
-d    如果目标是目录，仅显示目录本身</code></pre>77．fsck文件系统修复命令<pre><code>例：fsck    -y    分区名</code></pre></li>
<li>dumpe2fs 显示磁盘状态<pre><code>例：dumpe2fs    -h    分区名    
#卷标，挂载点，UUID，挂载参数，文件系统状态，inode总量/空闲，block总量/空闲，单个block大小</code></pre></li>
<li>stat显示文件详细信息<pre><code>例：stat    文件名
#文件名，文件大小，占用的block的大小，所在设备编号，硬链接数，属组，属主，权限，访问时间，数据修改时间，状态时间</code></pre></li>
<li>file判断文件类型<pre><code>例：file    文件名</code></pre></li>
<li>type判断命令是否是内部或外部命令<pre><code>例：tpye    命令</code></pre></li>
<li>fdisk分区命令MBR<pre><code>例：fdisk    -l    查看磁盘分区
选项：fdisk    进入分区交互模式
-m    操作菜单
-n    新建分区
-p    查看分区
-d    删除分区
-q    退出不保存
-w    退出保持
-t    修改分区属性（可以更改swap分区用）
-L    查看分区属性</code></pre></li>
<li>partprobe强制读取所有分区<pre><code>例：若分区报错，可使用此命令，若没安装，parted-2*安装包</code></pre></li>
<li>mkfs格式化分区<pre><code>例：mkfs    -t    ext4    分区名
mkfs    -t    ext4    -b4096        -i4096        分区
mkfs.ext4        分区</code></pre></li>
<li>parted分区命令GPT<pre><code>例：parted    分区    #进入交互模式
选项：p    打印分区表
mklabel    更改分区表类型gpt/msdos
mkpart        创建分区
rm            删除分区
q            退出（修改实时生效）</code></pre></li>
<li>swap分区命令<pre><code>例：1.fdisk分区</code></pre></li>
<li>更改分区属性为swap<br>  3.mkswap    格式化分区<br>  4.swapon        开启swap分区</li>
<li>free查看swap分区状态</li>
<li>quota磁盘配额相关命令<pre><code>选项：quotacheck    -avgu    生产磁盘配额文件
-a            #扫描所有磁盘
-v            #显示扫描过程
-c            #清楚原有文件重新生成行动文件
-g            #生成组文件
-u            #生成用户文件
edquota    -u    用户名    #指定用户限制设置
-g    组名        #指定组限制设置
-t                #用户宽限天数设置
-T                #组宽限天数设置
-p                #复制设置
quota    -uvs                #查看此用户在所有磁盘的配额
quota    -hvs            #查看此组在所有磁盘的配额
repquota    -ugvs    分区    #查看该分区的所有配额设置
quotaon    -guav    分区    #开启指定分区磁盘配额设置
quotaoff    -guav    分区    #关闭指定分区磁盘配额设置 </code></pre></li>
<li>dd用指定大小的块拷贝一个文件<pre><code>if=指定源文件
of=指定目的文件
bs=bytes：同时设置读入/输出的块大小为bytes个字节
count=blocks：仅拷贝blocks个块，块大小等于ibs指定的字节
dd应用实例</code></pre></li>
<li>将本地的/dev/hdb整盘备份到/dev/hdd<pre><code>dd if=/dev/hdb of=/dev/hdd</code></pre></li>
<li>将/dev/hdb全盘数据备份到指定路径的image文件<pre><code>dd if=/dev/hdb of=/root/image</code></pre></li>
<li>将备份文件恢复到指定盘<pre><code>dd if=/root/image of=/dev/hdb</code></pre></li>
<li>备份/dev/hdb全盘数据，并利用gzip工具进行压缩，保存到指定路径<pre><code>dd if=/dev/hdb | gzip &gt; /root/image.gz</code></pre></li>
<li>将压缩的备份文件恢复到指定盘<pre><code>gzip -dc /root/image.gz | dd of=/dev/hdb</code></pre></li>
<li>备份与恢复MBR<pre><code>a.备份磁盘开始的512个字节大小的MBR信息到指定文件：
dd if=/dev/hda of=/root/image count=1 bs=512
count=1指仅拷贝一个块；bs=512指块大小为512个字节。
b.恢复：
dd if=/root/image of=/dev/had
将备份的MBR信息写到磁盘开始部分</code></pre></li>
<li>拷贝内存内容到硬盘<pre><code>dd if=/dev/mem of=/root/mem.bin bs=1024 (指定块大小为1k)</code></pre></li>
<li>拷贝光盘内容到指定文件夹，并保存为cd.iso文件<pre><code>dd if=/dev/cdrom(sr0) of=/root/cd.iso</code></pre></li>
<li>增加swap分区文件大小<pre><code>第一步：创建一个大小为256M的文件：
dd if=/dev/zero of=/swapfile bs=1024 count=262144
第二步：把这个文件变成swap文件：
mkswap /swapfile
第三步：启用这个swap文件：
swapon /swapfile
第四步：编辑/etc/fstab文件，使在每次开机时自动加载swap文件：
/swapfile swap swap default 0 0</code></pre></li>
<li>销毁磁盘数据<pre><code>dd if=/dev/urandom of=/dev/hda1
注意：利用随机的数据填充硬盘，在某些必要的场合可以用来销毁数据。</code></pre></li>
<li>测试硬盘的读写速度<pre><code>dd if=/dev/zero bs=1024 count=1000000 of=/root/1Gb.file
dd if=/root/1Gb.file bs=64k | dd of=/dev/null</code></pre></li>
<li>确定硬盘的最佳块大小：<pre><code>dd if=/dev/zero bs=1024 count=1000000 of=/root/1Gb.file
dd if=/dev/zero bs=2048 count=500000 of=/root/1Gb.file
dd if=/dev/zero bs=4096 count=250000 of=/root/1Gb.file
dd if=/dev/zero bs=8192 count=125000 of=/root/1Gb.file</code></pre></li>
<li>LVM逻辑卷管理命令<pre><code>选项：    pvcreate 磁盘设备名            #创建物理卷
pvscan或pvdisplay            #查看物理卷
pvremove                        #删除物理卷
vgcreate -s PE大小 卷组名 物理卷名        #创建卷组
vgscan或vgdisplay            #查看卷组
vgremove 卷组名                #删除卷组
vgextend 卷组名 物理卷名        #增加物理卷
vgreduce 卷组名 物理卷名        #删除物理卷
lvcreate -L 大小 -n lv名 卷组名         #创逻辑卷
lvscan或lvdisplay            #查看逻辑卷
lvremove 逻辑卷名                #删除逻辑卷
lvextend -L +大小 分区名        #增加逻辑卷容量，只修改MBR表
resize -f 分区名 分区实际大小            #修改superblock大小            e2fsck -f 分区名                #检查文件系统
resize -f 分区名 减少到大小 #与增加大小反着来
lvreduce -L 实际大小 分区名</code></pre></li>
<li>RAID设置命令<pre><code>例：mdadm -Cv md* -l10 -n4 磁盘 -x2 热备    #创建RAID10 
mdadm  -D  查看RAID10状态
mdadm  -f  cip                               #指定磁盘损坏
mdadm  设备名md*  --remove  磁盘  #移除磁盘    
mdadm  设备名md*  --add        磁盘    #添加磁盘
mdadm  -S  设备名md*                   #停止RAID
mdadm    --zero-superblock  设备名md*  #删除RAID </code></pre></li>
<li>set查询当前所有生效的变量<pre><code>例：set  -u  #设置后，被调用的无效变量报错
set  -x  #设置后，每次执行命令，打印一次命令
unset 变量名  #取消变量</code></pre></li>
<li>env只查询环境变量 </li>
<li>echo 输出到屏幕<pre><code>例：echo  -e  “字符或格式”
选项：-e 支持反斜线控制的字符转换
-n 取消输出后行尾的换行符</code></pre></li>
<li>history历史命令<pre><code>例：history  -c  #清空历史命令
-w  #把缓存的历史命令保存到配置文件中</code></pre></li>
<li>dd命令详解<pre><code>作用
dd：用指定大小的块拷贝一个文件
格式
dd if=/dev/zero of=/指定目录 bs=1M count=1000
if=文件名：输入文件名，缺省为标准输入。即指定源文件。&lt; if=input file &gt;
of=文件名：输出文件名，缺省为标准输出。即指定目的文件。&lt; of=output file &gt;
bs=bytes：同时设置读入/输出的块大小为bytes个字节。
count=blocks：仅拷贝blocks个块，块大小等于ibs指定的字节数。
dd应用实例</code></pre></li>
<li>将本地的/dev/hdb整盘备份到/dev/hdd<pre><code>dd if=/dev/hdb of=/dev/hdd</code></pre></li>
<li>将/dev/hdb全盘数据备份到指定路径的image文件<pre><code>dd if=/dev/hdb of=/root/image</code></pre></li>
<li>将备份文件恢复到指定盘<pre><code>dd if=/root/image of=/dev/hdb</code></pre></li>
<li>备份/dev/hdb全盘数据，并利用gzip工具进行压缩，保存到指定路径<pre><code>dd if=/dev/hdb | gzip &gt; /root/image.gz</code></pre></li>
<li>将压缩的备份文件恢复到指定盘<pre><code>gzip -dc /root/image.gz | dd of=/dev/hdb</code></pre></li>
<li>备份与恢复MBR<pre><code>a.备份磁盘开始的512个字节大小的MBR信息到指定文件：
dd if=/dev/hda of=/root/image count=1 bs=512
count=1指仅拷贝一个块；bs=512指块大小为512个字节。
b.恢复：
dd if=/root/image of=/dev/had
将备份的MBR信息写到磁盘开始部分</code></pre></li>
<li>拷贝内存内容到硬盘<pre><code>dd if=/dev/mem of=/root/mem.bin bs=1024 (指定块大小为1k)</code></pre></li>
<li>拷贝光盘内容到指定文件夹，并保存为cd.iso文件<pre><code>dd if=/dev/cdrom(sr0) of=/root/cd.iso</code></pre></li>
<li>增加swap分区文件大小<pre><code>第一步：创建一个大小为256M的文件：
dd if=/dev/zero of=/swapfile bs=1024 count=262144
第二步：把这个文件变成swap文件：
mkswap /swapfile
第三步：启用这个swap文件：
swapon /swapfile
第四步：编辑/etc/fstab文件，使在每次开机时自动加载swap文件：
/swapfile swap swap default 0 0</code></pre></li>
<li>销毁磁盘数据<pre><code>dd if=/dev/urandom of=/dev/hda1
注意：利用随机的数据填充硬盘，在某些必要的场合可以用来销毁数据。</code></pre></li>
<li>测试硬盘的读写速度<pre><code>dd if=/dev/zero bs=1024 count=1000000 of=/root/1Gb.file
dd if=/root/1Gb.file bs=64k | dd of=/dev/null
通过以上两个命令输出的命令执行时间，可以计算出硬盘的读、写速度。
/dev/zero，是一个输入设备，你可你用它来初始化文件。该设备无穷尽地提供0，可以使用任何你需要的数目——设备提供的要多的多。他可以用于向设备或文件写入字符串0。
/dev/null——它是空设备，也称为位桶（bit bucket）。任何写入它的输出都会被抛弃。如果不想让消息以标准输出显示或写入文件，那么可以将消息重定向到位桶。外号叫无底洞，你可以向它输出任何数据，它通吃，并且不会撑着！</code></pre></li>
<li>确定硬盘的最佳块大小：<pre><code>dd if=/dev/zero bs=1024 count=1000000 of=/root/1Gb.file
dd if=/dev/zero bs=2048 count=500000 of=/root/1Gb.file
dd if=/dev/zero bs=4096 count=250000 of=/root/1Gb.file
dd if=/dev/zero bs=8192 count=125000 of=/root/1Gb.file
通过比较以上命令输出中所显示的命令执行时间，即可确定系统最佳的块大小。</code></pre><h1 id="常用查看命令"><a href="#常用查看命令" class="headerlink" title="常用查看命令"></a>常用查看命令</h1></li>
<li>uname -a     查看内核/操作系统/CPU信息的linux系统信息命令</li>
<li>cat /etc/redhat-release 查看系统版本</li>
<li>cat /proc/cpuinfo| grep “processor”| wc -l 查看逻辑CPU个数</li>
<li>systemctl list-unit-files 查看服务启动项</li>
<li>cat /proc/sys/fs/file-max 系统最大打开文件描述符数</li>
<li>cat/proc/sys/fs/nr_open        单个进程可分配最大文件数</li>
<li>cat /proc/sys/fs/file-nr        查看当前系统使用的打开文件描述符数</li>
<li>sed -i ‘/^SELINUX/s/enforcing/disabled/g’ /etc/selinux/config 关闭selinux</li>
<li>localectl set-locale LANG=zh_CN.UTF-8 更改为中文字符集</li>
<li>localectl status 查看系统字符集</li>
<li>echo ‘export TMOUT=300’ &gt;&gt;/etc/profile 设置闲置超时时间为300s</li>
<li>echo ‘export HISTFILESIZE=100’ &gt;&gt;/etc/profile 设置闲置超时时间为300s</li>
<li>echo ‘export HISTTIMEFORMAT=”%Y-%m-%d %H:%M:%S”‘ &gt;&gt;/etc/profile 格式化输出历史记录(以年月日分时秒的格式输出)</li>
</ol>
<p>#查看 CPU 物理个数<br>grep ‘physical id’ /proc/cpuinfo | sort -u | wc -l</p>
<p>#查看 CPU 核心数量<br>grep ‘core id’ /proc/cpuinfo | sort -u | wc -l</p>
<p>#查看 CPU 线程数<br>grep ‘processor’ /proc/cpuinfo | sort -u | wc -l</p>
<p>#查看 CPU  型号<br>dmidecode -s processor-version</p>
<p>#查看 CPU 的详细信息：<br>cat /proc/cpuinfo</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>版权声明： </strong>
          本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://hxqxiaoqi.gitee.io/2019/06/09/常用命令/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux基础/">linux基础</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2019/06/12/docker基本使用/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            docker基本使用
          
        </div>
      </a>
    
    
      <a href="/2019/06/09/网络顶级域名查看表/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">网络顶级域名查看表</div>
      </a>
    
  </nav>

  
     
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2020
        <i class="ri-heart-fill heart_icon"></i> 自在
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        由 <a href="https://hexo.io" target="_blank">Hexo</a> 强力驱动
        <span class="division">|</span>
        主题 - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span></span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914"></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="自在技术博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/友情链接/">链接</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search" title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<!-- Tocbot -->

<script src="/js/tocbot.min.js"></script>
<script>
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>
<script src="/dist/main.js"></script>
<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->

<script src="/js/busuanzi-2.3.pure.min.js"></script>

<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->

<link rel="stylesheet" href="/css/clipboard.css">
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


    
  </div>
</body>

</html>